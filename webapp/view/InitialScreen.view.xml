<mvc:View
    xmlns:f="sap.f"
    xmlns:rowmodes="sap.ui.table.rowmodes"
    xmlns:table="sap.ui.table"
    xmlns:uxap="sap.uxap"
    controllerName="ozak.com.zhrpersonalrequestform.controller.InitialScreen"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    displayBlock="true"
    height="100%"
    busyIndicatorDelay="0"
>
    <Page>
        <customHeader>
            <Toolbar>
                <Button
                    type="Transparent"
                    icon="sap-icon://nav-back"
                    press="onPressHome"
                />
                <Button
                    type="Transparent"
                    icon="sap-icon://home"
                    press="onPressHome"
                />
                <Image
                    src="assets/images/ozak_h1.png"
                    width="150px"
                />
                <ToolbarSpacer />
                <Button
                    type="Critical"
                    icon="sap-icon://person-placeholder"
                    press="onPressUser"
                />
            </Toolbar>
        </customHeader>
        <Table
            id="idMyPYPListTable"
            items="{
                path: 'jsonModel>/myPYPList'
            }"
            fixedLayout="false"
            growing="true"
            growingScrollToLoad="true"
        >
            <headerToolbar>
                <Toolbar class="sapUiTinyMarginTop">
                    <Title text="Talep Listem ({= ${jsonModel>/myPYPList}.length})" />
                    <ToolbarSpacer />
                    <SearchField
                        id="searchField"
                        showRefreshButton="false"
                        enableSuggestions="true"
                        tooltip="{i18n>listSearchTooltip}"
                        suggest="onSuggest"
                        suggestionItems="{
                            path: 'jsonModel>/myPYPList'
                        }"
                        search="_onSearchcIdMyPYPListTable"
                        width="auto"
                    >
                        <SuggestionItem
                            key="{jsonModel>id}"
                            text="{jsonModel>PYPInfo/PYPName}"
                            description="{jsonModel>dummyData1}"
                        />
                    </SearchField>
                    <Button
                        id="sortButton"
                        press=".onOpenViewSettings"
                        icon="sap-icon://sort"
                        type="Transparent"
                    />
                </Toolbar>
            </headerToolbar>
            <columns>
                <Column>
                    <Text text="Talep No" />
                </Column>
                <Column>
                    <Text text="Talep Edilen Pozisyon" />
                </Column>
                <Column>
                    <Text text="Talep Edilen Çalışan Sayısı" />
                </Column>
                <Column>
                    <Text text="Çalışacağı Lokasyon" />
                </Column>
                <Column>
                    <Text text="Onay Durumu" />
                </Column>
            </columns>
            <items>
                <ColumnListItem>
                    <ObjectIdentifier text="1" />
                    <ObjectIdentifier text="{jsonModel>PYPInfo/PYPDescription}" />
                    <ObjectIdentifier text="{jsonModel>ProjectInfo/projectOfficerInfo/userFullName}" />
                    <ObjectIdentifier text="{jsonModel>dummyData1}" />
                    <ObjectStatus
                        text="{jsonModel>statusInfo/statusText}"
                        state="{jsonModel>statusInfo/statusType}"
                        icon="{jsonModel>statusInfo/statusIcon}"
                    />
                </ColumnListItem>
            </items>
        </Table>
        <footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button
                    text="{i18n>PersonalCreation}"
                    press="navigateToCreatePersonalRequest"
                    type="Emphasized"
                    icon="sap-icon://create-form"
                />
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>