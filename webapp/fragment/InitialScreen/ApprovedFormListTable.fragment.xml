<c:FragmentDefinition
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
>
    <Table
        id="idPersonalFormListSetTableApproved"
        items="{
            path: 'jsonModel>/PersonalFormListSet',
            filters: [{
                path: 'Statu',
                operator: 'EQ',
                value1: '02'
            }]
        }"
        fixedLayout="false"
        growing="true"
        growingScrollToLoad="true"
        growingThreshold="15"
    >
        <headerToolbar>
            <Toolbar class="sapUiTinyMarginTop">
                <Title text="Talep Listem" />
                <ToolbarSpacer />
                <SearchField
                    showRefreshButton="false"
                    enableSuggestions="true"
                    tooltip="{i18n>listSearchTooltip}"
                    suggest="onSuggest"
                    suggestionItems="{
                        path: '/PersonalFormListSet'
                    }"
                    search="_onSearchcidMyPYPListTableAll($event, 'idPersonalFormListSetTableApproved', '02')"
                    width="auto"
                >
                    <SuggestionItem
                        key="{jsonModel>id}"
                        text="{jsonModel>TplansT}"
                        description="{jsonModel>Btext}"
                    />
                </SearchField>
                <Button
                    press="refreshTransferedTable($event, 'idPersonalFormListSetTableApproved')"
                    icon="sap-icon://refresh"
                    type="Emphasized"
                />
                <Button
                    press=".onOpenViewSettings"
                    icon="sap-icon://sort"
                    type="Transparent"
                />
            </Toolbar>
        </headerToolbar>
        <columns>
            <Column>
                <Text text="Talep No" />
            </Column>
            <Column>
                <Text text="Talep Edilen Pozisyon" />
            </Column>
            <Column>
                <Text text="Talep Edilen Çalışan Sayısı" />
            </Column>
            <Column>
                <Text text="Çalışacağı Lokasyon" />
            </Column>
            <Column>
                <Text text="Onay Durumu" />
            </Column>
            <Column>
                <Text text="" />
            </Column>
        </columns>
        <items>
            <ColumnListItem>
                <ObjectIdentifier text="{
                    path: 'jsonModel>Guid',
                    formatter: '.formatter.removeDatsFromString'
                }" />
                <ObjectIdentifier text="{= ${jsonModel>Tplanstext} === '' ? ${jsonModel>Pozisy} : ${jsonModel>Tplanstext} }" />
                <ObjectIdentifier text="{
                    path: 'jsonModel>Tcsayi',
                    type: 'sap.ui.model.odata.type.String',
                    constraints: {
                        isDigitSequence: true,
                        maxLength: 10
                    }
                }" />
                <ObjectIdentifier text="{jsonModel>Btext}" />
                <ObjectStatus
                    text="{
                        path: 'jsonModel>Statu',
                        formatter: '.formatter.setStatusText'
                    }"
                    icon="{
                        path: 'jsonModel>Statu',
                        formatter: '.formatter.setStatusIcon'
                    }"
                    state="{
                        path: 'jsonModel>Statu',
                        formatter: '.formatter.setStatusState'
                    }"
                />
                <Button
                    icon="sap-icon://show"
                    press="navigateToShowDetail"
                />
                <!-- <ObjectIdentifier text="{= ${Statu} === '01' ? 'Onayda' : ''}" /> -->
            </ColumnListItem>
        </items>
    </Table>
</c:FragmentDefinition>